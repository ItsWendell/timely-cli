{"version":3,"sources":["../../src/commands/accounts.js"],"names":["app","command","alias","action","args","callback","TimelyAPI","getAccounts","then","accounts","choices","Object","values","map","account","name","value","id","inquirer","prompt","type","message","accountId","setAccountId","delimiter","logout"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AAEAA,cACEC,OADF,CACU,UADV,EACsB,yBADtB,EAEEC,KAFF,CAEQ,iBAFR,EAGEC,MAHF,CAGS,UAACC,IAAD,EAAOC,QAAP,EAAoB;AAC3BC,kBAAUC,WAAV,GAAwBC,IAAxB,CAA6B,UAACC,QAAD,EAAc;AAC1C,MAAMC,UAAUC,OAAOC,MAAP,CAAcH,QAAd,EAAwBI,GAAxB,CAA4B,UAACC,OAAD;AAAA,UAAc;AACzDC,UAAMD,QAAQC,IAD2C;AAEzDC,WAAOF,QAAQG;AAF0C,IAAd;AAAA,GAA5B,CAAhB;AAIAC,qBAASC,MAAT,CAAgB;AACfC,SAAM,MADS;AAEfL,SAAM,WAFS;AAGfM,YAAS,yBAHM;AAIfX;AAJe,GAAhB,EAKGF,IALH,CAKQ,gBAAmB;AAAA,OAAhBc,SAAgB,QAAhBA,SAAgB;;AAC1BhB,oBAAUiB,YAAV,CAAuBD,SAAvB;AACAtB,iBAAIwB,SAAJ,eAA0BlB,iBAAUG,QAAV,CAAmBa,SAAnB,EAA8BP,IAAxD;AACAV,YAASiB,SAAT;AACA,GATD;AAUA,EAfD;AAgBA,CApBF;;AAsBAtB,cACEC,OADF,CACU,QADV,EACoB,oBADpB,EAEEC,KAFF,CAEQ,SAFR,EAGEC,MAHF,CAGS,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AACjCC,kBAAUmB,MAAV,GAAmBjB,IAAnB,CAAwB,YAAM;AAC7BH;AACA,EAFD;AAGA,CAPF","file":"accounts.js","sourcesContent":["import inquirer from 'inquirer';\nimport app from '../app';\nimport TimelyAPI from '../timely';\n\napp\n\t.command('accounts', 'Select a timely account')\n\t.alias('accounts select')\n\t.action((args, callback) => {\n\t\tTimelyAPI.getAccounts().then((accounts) => {\n\t\t\tconst choices = Object.values(accounts).map((account) => ({\n\t\t\t\tname: account.name,\n\t\t\t\tvalue: account.id,\n\t\t\t}));\n\t\t\tinquirer.prompt({\n\t\t\t\ttype: 'list',\n\t\t\t\tname: 'accountId',\n\t\t\t\tmessage: 'Select a account to use',\n\t\t\t\tchoices,\n\t\t\t}).then(({ accountId }) => {\n\t\t\t\tTimelyAPI.setAccountId(accountId);\n\t\t\t\tapp.delimiter(`~ Timely/${TimelyAPI.accounts[accountId].name} >`);\n\t\t\t\tcallback(accountId);\n\t\t\t});\n\t\t});\n\t});\n\napp\n\t.command('logout', 'Clear your session')\n\t.alias('signout')\n\t.action(function (args, callback) {\n\t\tTimelyAPI.logout().then(() => {\n\t\t\tcallback();\n\t\t});\n\t});\n"]}