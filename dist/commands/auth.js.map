{"version":3,"sources":["../../src/commands/auth.js"],"names":["vorpal","command","alias","action","args","callback","console","log","TimelyAPI","authorizeURL","prompt","name","message","then","token","authorize","finally","registerCommands"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;kBAEe,IAAIA,gBAAJ,GACbC,OADa,CACL,OADK,EACI,iBADJ,EAEbC,KAFa,CAEP,MAFO,EAGbC,MAHa,CAGN,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AACjCC,SAAQC,GAAR,CAAY,qBAAZ,EAAmCC,iBAAUC,YAAV,EAAnC;AACA,MAAKC,MAAL,CAAY,CAAC;AACZC,QAAM,OADM;AAEZC,WAAS;AAFG,EAAD,CAAZ,EAGIC,IAHJ,CAGS,gBAAe;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AACvBN,mBAAUO,SAAV,CAAoBD,KAApB,EAA2BE,OAA3B,CAAmC,YAAM;AACxCC;AACAZ;AACA,GAHD;AAIA,EARD;AASA,CAda,C","file":"auth.js","sourcesContent":["import vorpal from 'vorpal';\nimport TimelyAPI from '../timely';\n\nexport default new vorpal()\n\t.command('login', 'Log into Timely')\n\t.alias('auth')\n\t.action(function (args, callback) {\n\t\tconsole.log('Login with Timely: ', TimelyAPI.authorizeURL());\n\t\tthis.prompt([{\n\t\t\tname: 'token',\n\t\t\tmessage: 'Authorization code: '\n\t\t}]).then(({ token }) => {\n\t\t\tTimelyAPI.authorize(token).finally(() => {\n\t\t\t\tregisterCommands();\n\t\t\t\tcallback();\n\t\t\t});\n\t\t});\n\t});\n"]}