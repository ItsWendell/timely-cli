{"version":3,"sources":["../../src/commands/projects.js"],"names":["app","command","alias","action","args","callback","TimelyAPI","getProjects","then","projects","choices","Object","values","map","project","name","value","id","prompt","type","message","projectId","activeProjectId","delimiter","account"],"mappings":";;AAAA;;;;AACA;;;;;;AAEAA,cACEC,OADF,CACU,UADV,EACsB,uBADtB,EAEEC,KAFF,CAEQ,eAFR,EAGEC,MAHF,CAGS,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AAAA;;AACjCC,kBAAUC,WAAV,GAAwBC,IAAxB,CAA6B,UAACC,QAAD,EAAc;AAC1C,MAAMC,UAAUC,OAAOC,MAAP,CAAcH,QAAd,EAAwBI,GAAxB,CAA4B,UAACC,OAAD;AAAA,UAAc;AACzDC,UAAMD,QAAQC,IAD2C;AAEzDC,WAAOF,QAAQG;AAF0C,IAAd;AAAA,GAA5B,CAAhB;AAIA,QAAKC,MAAL,CAAY;AACXC,SAAM,cADK;AAEXJ,SAAM,WAFK;AAGXK,YAAS,yBAHE;AAIXV;AAJW,GAAZ,EAKGF,IALH,CAKQ,gBAAmB;AAAA,OAAhBa,SAAgB,QAAhBA,SAAgB;;AAC1Bf,oBAAUgB,eAAV,GAA4BD,SAA5B;AACArB,iBAAIuB,SAAJ,eAA0BjB,iBAAUkB,OAAV,CAAkBT,IAA5C,SAAoDT,iBAAUQ,OAAV,CAAkBC,IAAtE;AACAV;AACA,GATD;AAUA,EAfD;AAgBA,CApBF","file":"projects.js","sourcesContent":["import app from '../app';\nimport TimelyAPI from '../timely';\n\napp\n\t.command('projects', 'The accounts projects')\n\t.alias('projects list')\n\t.action(function (args, callback) {\n\t\tTimelyAPI.getProjects().then((projects) => {\n\t\t\tconst choices = Object.values(projects).map((project) => ({\n\t\t\t\tname: project.name,\n\t\t\t\tvalue: project.id,\n\t\t\t}));\n\t\t\tthis.prompt({\n\t\t\t\ttype: 'autocomplete',\n\t\t\t\tname: 'projectId',\n\t\t\t\tmessage: 'Select a project to use',\n\t\t\t\tchoices,\n\t\t\t}).then(({ projectId }) => {\n\t\t\t\tTimelyAPI.activeProjectId = projectId;\n\t\t\t\tapp.delimiter(`~ Timely/${TimelyAPI.account.name}/${TimelyAPI.project.name}>`);\n\t\t\t\tcallback();\n\t\t\t});\n\t\t});\n\t});\n"]}